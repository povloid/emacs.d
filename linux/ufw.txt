Настройка брандмауэра UFW в Debian 12
Шаг 1. Обновление Debian 12
Перед установкой какого либо программного обеспечения, требуется убедиться, что ваша система находится в актуальном состоянии. Для этого выполните в терминале следующие команды.

sudo apt update
sudo apt install apt-transport-https lsb-release ca-certificates curl dirmngr gnupg

Выполнение этих команд обновит репозиторий, а это позволит вам установить самые свежие версии программных пакетов.




Шаг 2. Настройка UFW Firewall в Debian 12
Начните с проверки того, установлен ли уже UFW в вашей системе, воплотите следующую команду.

sudo ufw status

ufw не установлен
ufw не установлен
Как видно на рисунке UFW не установлен, но его легко можно установить, с помощью следующей команды.

Установка UFW в DEBIAN
Установка UFW в DEBIAN
Далее убедитесь что UFW успешно установлен.

sudo ufw version



Шаг 3. Настройка основных правил брандмауэра UFW
По умолчанию UFW запрещает весь входящий и исходящий трафик, обеспечивая безопасность вашей системы. Давайте включим UFW и установим политики по умолчанию.

sudo ufw enable
sudo ufw default deny incoming
sudo ufw default allow outgoing

С помощью этих команд включается UFW и начнет блокировать любые входящие соединения, разрешая при этом исходящий трафик.

➪  Как установить Glances в Debian 11
Шаг 4. Разрешение или запрет определенных сетевых служб
Чтобы включить определенные службы, например SSH для удаленного доступа, используйте следующие команды.

sudo ufw allow ssh

Аналогичным образом можно разрешить и другие службы, например HTTP и HTTPS.

sudo ufw allow http
sudo ufw allow https

Шаг 5. Включение ведения журнала UFW для устранения различных неполадок
Ведение журнала (логов) UFW позволяет отслеживать трафик и выявлять потенциальные угрозы. Чтобы включить ведение журнала, выполните следующую команду.

sudo ufw logging on

Журналы можно найти по такому пути /var/log/ufw.log.

Шаг 6. Расширенная конфигурация UFW
UFW предлагает профили приложений для популярных служб, это очень упрощает процесс настройки. Список доступных профилей приложений.

sudo ufw app list

Пользовательские правила позволяют адаптировать UFW к вашим конкретным требованиям. Например, разрешить входящие соединения на порт 8080.

sudo ufw allow 8080/tcp

Данная команда запретит исходящий трафик на определенный IP адрес.

sudo ufw deny out to 192.168.0.100

UFW позволяет указать IP адреса источника и назначения для более тонкого контроля.

sudo ufw allow from 192.168.0.100 to any port 22

Если ваша система имеет несколько сетевых интерфейсов, вы можете настроить UFW соответствующим образом. Например, чтобы разрешить трафик на интерфейсе eth1.

sudo ufw allow in on eth1 to any

Заключение
Вот и все. Вы успешно установили UFW Firewall в Debian 12. А также немного его настроили. Спасибо, что воспользовались этим руководством для установки и настройки UFW Firewall в Debian 12 Bookworm.
